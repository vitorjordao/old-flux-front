<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Flux Price Comparator</title>
        <link rel="stylesheet" href="./prod/css/style.min.css">
    </head>
    <body>
        <header class="main-header">
            <picture class="logo">
                <source media="(min-width:650px)" srcset="">
                <source media="(min-width:465px)" srcset="">
                <img src="" alt="Flux Price Comparator" style="width:auto;">
            </picture>
            <button class="open-button-1" id="open-menu-button">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </button>
            <nav class="menu">
                <button class="open-button-2" id="close-menu-button">X</button>
                <a class="open-button-2 link-menu" href="/Auth/">Login</a>
                <a class="open-button-2 link-menu" href="#">Planos</a>
                <a class="open-button-2 link-menu" href="#">Quem somos</a>
            </nav>
        </header>
        <main>
            <section class="explain-text">
                <div class="explain-text__text">
                    <h2>Seja bem-vindo ao próximo nível do seu negócio!</h2>
                    <div>Torne o seu comercio virtual muito mais competitivo!</div>
                    <div>Crie estratétias que realmente importam para o seu cliente baseado em dados!</div>
                </div>
                <div>
                    <form class="form-1 card-1">
                        <header class="form-1__header">
                            <h3 class="form-1__header__title">Leve o seu negócio ao próximo nível</h3>
                        </header>
                        <div>
                            <input id="email" placeholder="Email" type="text" required/>
                        </div>
                        <div>
                            <input id="password" placeholder="Senha" type="password" required/>
                        </div>
                        <button class="open-button-1 form-button" onclick="authenticate(event)">Entrar</button>
                        <a class="open-button-1 form-button" href="/Auth/">Registrar</a>
                    </form>
                    <span>Ao logar eu aceito os <a href="#">termos de serviço</a>!</span>
                </div>
            </section>
            <section class="content-1">
                <img src="busines.svg" alt="Negócios"/>
                <div class="content-1__text">
                    <h2>Experimente por 30 dias GRÁTIS</h2>
                    <div>Experimente o nosso sistema sem preocupações com custos no primeiro mês e veja a sua empresa a crescer!</div>
                    <div>Risco zero para fazer sua empresa crescer!</div>
                    <a class="open-button-1 content-1__text__button">Quero começar agora!</a>
                </div>
            </section>
            <section class="content-2">
                <div class="plan card-1">
                    <header class="plan__header"><h3>Próximo nível</h3></header>
                    <main class="plan__main">
                        <ul>
                            <li>Rasterar até 100 produtos!</li>
                            <li>Acesso a API REST para integrar diretamente ao seu e-commerce!</li>
                            <li>Gráficos exclusivos sobre variações de preços!</li>
                        </ul>
                        <div class="value"><span class="value__price">R$ 150,00</span> p/ mês</div>
                        <button class="open-button-1 plan__main__button">Adquirir!</button>
                    </main>
                </div>
            </section>
        </main>
        <footer class="main-footer">
            Todos os direitos reservados
        </footer>
    </body>
    <script src="./prod/js/main.min.js"></script>
    <script>
        async function authenticate(event) {
            event.preventDefault();

            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            
            const response = await login(email, password);

            if(response.ok) {
                window.location.replace(`/Dashboard/public?jwt=${response.body.jwt}`);
                return;
            }

            alert(response.body.message);
        }
    </script>
</html>